pipeline {
    agent any 

    stages {
        stage("pushing") {
            steps {
                withCredentials([usernamePassword(credentialsId: 'github', usernameVariable: 'USERNAME', passwordVariable: 'PASSWORD')]) {
                    script {
                 
                    sh'''
                       git config --global user.email deveshrs2016@gmail.com
                       git config --global user.name ${USERNAME}
                       git config --global user.password ${PASSWORD}
                    git add app.py
                    git commit -m "formvm"
                    git push origin main
                        ls -ltr
                        pwd
                        '''
                    }
                }
            }
        }
    }
}
